<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/f9e03bc8f7.js"
      crossorigin="anonymous"></script>
    <style>

/* Estilos para o container do perfil */
.profile-container {
  position: absolute;
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 650px;
  background: rgba(0, 0, 0, 0.5);
  box-shadow: 0px 0px 50px rgba(255, 255, 255, 0.1);
  padding: 20px;
  border-radius: 20px;
  text-align: center;
  margin: 0 auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1;
}

/* Estilos para o título principal */
.titulo {
  font-size: 60px;
  color: rgb(64, 187, 224);
  font-weight: 600;
  letter-spacing: -1px;
  margin-top: 10px;
  margin-bottom: 0px;
  text-shadow: 0px 0px 50px rgba(33, 113, 171, 0.5);
  transition: 0.3s;    
}

/* Estilos para o título secundário */
.titulo2 {
  text-align: center;
  font-size: 40px;
  color: rgb(64, 187, 224);
  font-weight: 600;
  letter-spacing: -1px;
  margin-top: 10px;
  margin-bottom: 0px;
  text-shadow: 0px 0px 50px rgba(33, 113, 171, 0.5);
  transition: 0.3s;    
}

/* Estilos para os botões */
button {
  border: none;
  outline: none;
  background-color: turquoise;
  padding: 10px;
  border-radius: 10px;
  color: #fff;
  font-size: 16px;
  transform: .3s ease;
  transition: 0.3s;
  cursor: pointer;
  box-shadow: inset -5px -5px 25px 3px #0c2397;
}

button:hover {
    background-color: rgb(52, 164, 216);
    transition: 0.3s;
}
  
  /* formulario */
  .formulario label {
    position: relative;
    margin-right: 20px;
}
  
  /* bordas formulario */
  .formulario label .input {
    width: 100%;
    padding: 10px 10px 20px 10px;
    outline: 0;
    border: 1px solid rgba(105, 105, 105, 0.5);
    border-radius: 10px;
    background-color: rgba(255, 255, 255, 0.8);
}
  
  /* texto formulario */
  .formulario label .input + span {
    position: absolute;
    left: 10px;
    top: 13px;
    color: rgb(27, 27, 27);
    font-size: 1em;
    cursor: text;
    transition: 0.3s ease;
}
  
  /* move texto formulario */
  .formulario label .input:focus + span,.formulario label .input:valid + span {
    top: 27px;
    font-size: 0.8em;
    font-weight: 600;
}
  
  /* confirmação texto formulario */
  .formulario label .input:valid + span {
    color: green;
}


















/* Estilos para o botão "Voltar" */
.voltar {
  padding: 0px 0px 5px;
}

/* Estilos para os botões de edição e exclusão de endereço */
.edit-address-button {
  background-color: #27ae60; 
  color: white; 
  border: none; 
  border-radius: 10px;
  padding: 5px 10px; 
  cursor: pointer; 
  margin: 3px 5px 20px ; 
}

.delete-address-button {
  background-color: #e74c3c; 
  color: white; 
  border: none; 
  border-radius: 10px;
  padding: 5px 10px; 
  cursor: pointer; 
}

/* Estilos para a lista de endereços salvos */
.address-list {
  max-height: 200px; 
  overflow-y: auto; 
}

/* Personalização da barra de rolagem */
.address-list::-webkit-scrollbar {
  width: 10px; 
}

.address-list::-webkit-scrollbar-thumb {
  background-color: #bdbdbd; 
  border-radius: 10px; 
}

.address-list::-webkit-scrollbar-thumb:hover {
  background-color: #aaaaaa; 
}

.address-list::-webkit-scrollbar-track {
  background-color: #f4f4f4; 
  border-radius: 10px; 
}
      
      
      @media screen and (max-width: 768px) {
      
      }  
      
      </style>
  </head>
  <body>
    <div class="fundo"></div>
    <div class="profile-container">
      <h1 class="titulo">Seu Perfil</h1>
      <div class="user-name" id="username"> Gustavo </div>
      <button class="edit-button" onclick="editName()">Alterar Nome</button>

      <!-- Adicionar novo endereço de entrega -->
      <div class="add-address-section">
        <h2 class="titulo2">Adicionar Endereço de Entrega</h2>
        <label class="input-label" for="cep"></label>
        <input class="input"
          type="text"
          class="input-field"
          id="cep"
          placeholder="CEP" />
        <button class="search-adress" id="search" onclick="searchAddressByCep()">
          Buscar Endereço
        </button>
        <br />

        <!-- Campos de endereço preenchidos automaticamente -->
        <div class="flex">
          <label>
            <input 
            required placeholder type="text"  class="input" id="state"/>
              <span>state</span>
          </label>
          <label>
            <input class="input"
              type="text"
              class="input-field"
              id="city"
              placeholder="Cidade" />
          </label>
        </div>
        <label>
          <input class="input"
            type="text"
            class="input-field"
            id="neighborhood"
            placeholder="Bairro" />
        </label>

        <label>
          <input class="input"
            type="text"
            class="input-field"
            id="street"
            placeholder="Rua" />
        </label>
        <div class="flex">
          <label>
            <input class="input"
              type="text"
              class="input-field"
              id="number"
              placeholder="Número" />
          </label>

          <label>
            <input class="input"
              type="text"
              class="input-field"
              id="complement"
              placeholder="Complemento" />
          </label>
        </div>
        <!-- Botão para salvar o endereço ou editar -->
        <button class="save-adress" id="save-adress"
          onclick="saveOrEditAddress()">
          Salvar Endereço
        </button>
      </div>

      <!-- Lista de endereços salvos -->
      <div class="address-list">
        <h2 class="titulo2">Endereços Salvos</h2>
        <ul id="address-ul">
          <!-- Endereços salvos serão exibidos aqui -->
        </ul>
      </div>
      <div class="voltar">
        <i class="fa-solid fa-arrow-right fa-2xl" style="color: #c2c2c2"
          onclick="IrParaCotacao()"></i>
      </div>
    </div>
    <script>
      function editName() {
        const newName = prompt("Digite o novo nome:");
        if (newName !== null) {
          document.getElementById("username").textContent = newName;
        }
      }
    
      function searchAddressByCep() {
        const cep = document.getElementById("cep").value;
        const url = `https://viacep.com.br/ws/${cep}/json/`;
    
        fetch(url)
          .then((response) => response.json())
          .then((data) => {
            if (!data.erro) {
              document.getElementById("state").value = data.uf;
              document.getElementById("city").value = data.localidade;
              document.getElementById("neighborhood").value = data.bairro;
              document.getElementById("street").value = data.logradouro;
              // Você pode preencher outros campos aqui, se necessário
            } else {
              alert("CEP não encontrado.");
            }
          })
          .catch((error) => {
            console.error("Erro ao buscar CEP:", error);
            alert("Ocorreu um erro ao buscar o CEP.");
          });
      }
    
      function saveOrEditAddress() {
        // Coletar os dados preenchidos pelo usuário
        const cep = document.getElementById("cep").value;
        const state = document.getElementById("state").value;
        const city = document.getElementById("city").value;
        const neighborhood = document.getElementById("neighborhood").value;
        const street = document.getElementById("street").value;
        const number = document.getElementById("number").value;
        const complement = document.getElementById("complement").value;
    
        // Verificar se os campos obrigatórios estão preenchidos
        if (cep.trim() === "" || state.trim() === "" || city.trim() === "" || neighborhood.trim() === "" || street.trim() === "" || number.trim() === "") {
          alert("Por favor, preencha todos os campos obrigatórios.");
          return;
        }
    
        // Criar um novo item de lista com os dados do endereço
        const listItem = document.createElement("li");
        listItem.textContent = `CEP: ${cep}, Estado: ${state}, Cidade: ${city}, Bairro: ${neighborhood}, Rua: ${street}, Número: ${number}, Complemento: ${complement}`;
    
        // Botão para editar o endereço
        const editButton = document.createElement("button");
        editButton.textContent = "Editar Endereço";
        editButton.classList.add("edit-address-button"); // Adicione a classe 'edit-address-button'
        editButton.onclick = function() {
          // Preencher os campos de entrada com os dados do endereço para edição
          document.getElementById("cep").value = cep;
          document.getElementById("state").value = state;
          document.getElementById("city").value = city;
          document.getElementById("neighborhood").value = neighborhood;
          document.getElementById("street").value = street;
          document.getElementById("number").value = number;
          document.getElementById("complement").value = complement;
    
          // Mudar o texto do botão para "Salvar Edição"
          saveEditButton.textContent = "Salvar Edição";
          saveEditButton.onclick = function() {
            // Atualizar os dados do endereço na lista com os novos valores
            listItem.textContent = `CEP: ${document.getElementById("cep").value}, Estado: ${document.getElementById("state").value}, Cidade: ${document.getElementById("city").value}, Bairro: ${document.getElementById("neighborhood").value}, Rua: ${document.getElementById("street").value}, Número: ${document.getElementById("number").value}, Complemento: ${document.getElementById("complement").value}`;
    
            // Limpar os campos de entrada após salvar a edição
            document.getElementById("cep").value = "";
            document.getElementById("state").value = "";
            document.getElementById("city").value = "";
            document.getElementById("neighborhood").value = "";
            document.getElementById("street").value = "";
            document.getElementById("number").value = "";
            document.getElementById("complement").value = "";
    
            // Mudar o texto do botão de volta para "Salvar Endereço"
            saveEditButton.textContent = "Salvar Endereço";
            saveEditButton.onclick = saveOrEditAddress;
          };
    
          // Remover o botão de editar da lista
          listItem.removeChild(editButton);
        };
    
        // Botão para excluir o endereço
        // Botão para excluir o endereço
        const deleteButton = document.createElement("button");
        deleteButton.textContent = "Excluir Endereço";
        deleteButton.classList.add("delete-address-button"); // Adicione a classe 'delete-address-button'
        deleteButton.onclick = function() {
          // Remover o item de lista da lista
          document.getElementById("address-ul").removeChild(listItem);
        };
    
        // Adicionar os botões à lista
        listItem.appendChild(editButton);
        listItem.appendChild(deleteButton);
    
        // Adicionar o item de lista à lista de endereços salvos
        document.getElementById("address-ul").appendChild(listItem);
    
        // Limpar os campos de entrada após salvar o endereço
        document.getElementById("cep").value = "";
        document.getElementById("state").value = "";
        document.getElementById("city").value = "";
        document.getElementById("neighborhood").value = "";
        document.getElementById("street").value = "";
        document.getElementById("number").value = "";
        document.getElementById("complement").value = "";
    
        // Mudar o texto do botão para "Editar Endereço"
        editButton.textContent = "Editar Endereço";
    
        // Limpar o campo de complemento após salvar
        document.getElementById("complement").value = "";
      }
    
      // Função para voltar para a cotação
      function IrParaCotacao() {
        // Redirecionar para o documento solicita_produto.html
        window.location.href = "solicita_produto.html";
      }
    </script>
    <script>
          function IrParaCotacao() {
            // Redirecionar para o documento solicita_produto.html
            window.location.href = "solicita_produto.html";
          }
        </script>
  </body>
</html>
